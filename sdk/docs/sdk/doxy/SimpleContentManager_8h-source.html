<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>SimpleContentManager.h Source File</title>

<SCRIPT LANGUAGE="JavaScript" SRC="../io.js"></SCRIPT>
<link rel="STYLESHEET" type="text/css" href="../iObjectsStyle.css">
</head>

<body lang=EN-US link=blue vlink=purple>
<table width="100%" >
<tr><td align="left" width="33%"><a href="../doxy/SerialUserInterface_8h-source.html" title='SerialUserInterface.h'><img src='../images/previous.gif' width=78 height=10 border='0'></a></td><td align="center" width="33%">
<SCRIPT LANGUAGE="JavaScript">
   if (parent.frames.length>1){
       document.write('<A HREF="JavaScript:SwitchView(0);"><img src="../images/pagevw.gif" width=49 height=10 border="0"></A>');
   }else{
       document.write('<A HREF="JavaScript:SwitchView(1);"><img src="../images/normalvw.gif" width=60 height=8 border="0"></A>');
   }
</SCRIPT>
</td><td align="right" width="33%">
<a href="../doxy/SimpleGUIUserInterface_8h-source.html" title='SimpleGUIUserInterface.h'><img src='../images/next.gif' width=60 height=10 border='0'></a></td></tr>
</table><!-- Generated by Doxygen 1.2.9.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>SimpleContentManager.h</h1><div class="fragment"><pre>00001 <font class="comment">//</font>
00002 <font class="comment">// MetakitContentManager.h</font>
00003 <font class="comment">//</font>
00004 <font class="comment">// Copyright (c) 1998 - 2001 Interactive Objects (TM). All rights reserved</font>
00005 <font class="comment">//</font>
00006 <font class="comment">// This file was distributed as part of the Dadio (TM) Software Development Kit</font>
00007 <font class="comment">//     under the Dadio (TM) Software Development Kit license. Please see the file</font>
00008 <font class="comment">//     "Dadio Software Development Kit license agreement.pdf" contained in the</font>
00009 <font class="comment">//     "Legal" folder on the Dadio Distribution CD.</font>
00010 <font class="comment">//</font>
00011 
00013 
00014 <font class="preprocessor">#ifndef SIMPLECONTENTMANAGER_H_</font>
00015 <font class="preprocessor"></font><font class="preprocessor">#define SIMPLECONTENTMANAGER_H_</font>
00016 <font class="preprocessor"></font>
00017 <font class="preprocessor">#include &lt;content/common/ContentManager.h&gt;</font>
00018 <font class="preprocessor">#include &lt;util/datastructures/SimpleList.h&gt;</font>
00019 
00020 <font class="keyword">typedef</font> <a class="code" href="classIMetadata.html">IMetadata</a>* <a class="code" href="group__MediaPlayer.html#a3">FNCreateMetadata</a>();
00021 
00023 <font class="comment">//      CSimpleContentManager</font>
00025 <font class="comment">//</font>
00028 <font class="comment">//</font>
<a name="l00029"></a><a class="code" href="classCSimpleContentManager.html">00029</a> <font class="keyword">class </font><a class="code" href="classCSimpleContentManager.html">CSimpleContentManager</a> : <font class="keyword">public</font> <a class="code" href="classIContentManager.html">IContentManager</a>
00030 {
00031   <font class="keyword">public</font>:
00036     <a class="code" href="classCSimpleContentManager.html#a0">CSimpleContentManager</a>(FNCreateMetadata* pfnCreateMetadata);
00037     ~CSimpleContentManager();
00038 
00040     <a class="code" href="classIMetadata.html">IMetadata</a>* <a class="code" href="classIContentManager.html#a1">CreateMetadataRecord</a>() <font class="keyword">const</font>;
00041 
00043     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a2">Clear</a>();
00044 
00046     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a3">AddContentRecords</a>(<a class="code" href="structcontent__record__update__s.html">content_record_update_t</a>* pContentUpdate);
00047 
00049     <font class="keywordtype">int</font> <a class="code" href="classIContentManager.html#a4">GetMediaRecordCount</a>();
00050 
00055     <a class="code" href="classIMediaContentRecord.html">IMediaContentRecord</a>* <a class="code" href="classIContentManager.html#a5">AddMediaRecord</a>(<a class="code" href="structmedia__record__info__s.html">media_record_info_t</a>&amp; mediaContent, <font class="keywordtype">bool</font>* pbAlreadyExists = 0);
00056 
00058     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a6">DeleteMediaRecord</a>(<font class="keywordtype">int</font> iContentRecordID);
00059 
00062     <a class="code" href="classIMediaContentRecord.html">IMediaContentRecord</a>* <a class="code" href="classIContentManager.html#a7">GetMediaRecord</a>(<font class="keywordtype">int</font> iContentRecordID);
00063 
00066     <a class="code" href="classIMediaContentRecord.html">IMediaContentRecord</a>* <a class="code" href="classIContentManager.html#a7">GetMediaRecord</a>(<font class="keyword">const</font> <font class="keywordtype">char</font>* szURL);
00067 
00069     <font class="keywordtype">int</font> <a class="code" href="classIContentManager.html#a9">GetPlaylistRecordCount</a>();
00070 
00073     <a class="code" href="classIPlaylistContentRecord.html">IPlaylistContentRecord</a>* <a class="code" href="classIContentManager.html#a10">AddPlaylistRecord</a>(<a class="code" href="structplaylist__record__s.html">playlist_record_t</a>&amp; playlistRecord);
00074 
00076     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a11">DeletePlaylistRecord</a>(<font class="keywordtype">int</font> iContentRecordID);
00077 
00079     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a12">DeleteRecordsFromDataSource</a>(<font class="keywordtype">int</font> iDataSourceID);
00080 
00082     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a13">MarkRecordsFromDataSourceUnverified</a>(<font class="keywordtype">int</font> iDataSourceID);
00083 
00085     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a14">DeleteUnverifiedRecordsFromDataSource</a>(<font class="keywordtype">int</font> iDataSourceID);
00086 
00087     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a15">GetAllMediaRecords</a>(MediaRecordList&amp; records) <font class="keyword">const</font>;
00088     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a16">GetMediaRecordsByDataSourceID</a>(MediaRecordList&amp; records, <font class="keywordtype">int</font> iDataSourceID) <font class="keyword">const</font>;
00089 
00090     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a17">GetAllPlaylistRecords</a>(PlaylistRecordList&amp; records) <font class="keyword">const</font>;
00091     <font class="keywordtype">void</font> <a class="code" href="classIContentManager.html#a18">GetPlaylistRecordsByDataSourceID</a>(PlaylistRecordList&amp; records, <font class="keywordtype">int</font> iDataSourceID) <font class="keyword">const</font>;
00092 
00093   <font class="keyword">private</font>:
00094 
00095     MediaRecordList  m_slMediaRecords;
00096     PlaylistRecordList      m_slPlaylists;
00097 
00099     FNCreateMetadata* m_pfnCreateMetadata;
00100 
00101     <font class="keyword">static</font> <font class="keywordtype">int</font> sm_iNextMediaRecordID;
00102     <font class="keyword">static</font> <font class="keywordtype">int</font> sm_iNextPlaylistRecordID;
00103 
00104     <a class="code" href="classSimpleListIterator.html">MediaRecordIterator</a> FindMediaRecordByID(<font class="keywordtype">int</font> iContentRecordID);
00105     <a class="code" href="classSimpleListIterator.html">MediaRecordIterator</a> FindMediaRecordByURL(<font class="keyword">const</font> <font class="keywordtype">char</font>* szURL);
00106     <font class="keywordtype">void</font> ListAllRecords(MediaRecordList&amp; records) <font class="keyword">const</font>;
00107 
00108     <a class="code" href="classSimpleListIterator.html">PlaylistRecordIterator</a> FindPlaylistRecordByID(<font class="keywordtype">int</font> iContentRecordID);
00109     <a class="code" href="classSimpleListIterator.html">PlaylistRecordIterator</a> FindPlaylistRecordByURL(<font class="keyword">const</font> <font class="keywordtype">char</font>* szURL);
00110 
00111 };
00112 
00113 
00115 <font class="comment">//      CSimpleMediaContentRecord</font>
00117 <font class="comment"></font>
<a name="l00120"></a><a class="code" href="classCSimpleMediaContentRecord.html">00120</a> <font class="comment">class CSimpleMediaContentRecord : public IMediaContentRecord</font>
00121 {
00122   <font class="keyword">public</font>:
00123     CSimpleMediaContentRecord(<font class="keywordtype">int</font> iID, <font class="keywordtype">char</font>* szURL, <font class="keywordtype">int</font> iDataSourceID, <font class="keywordtype">int</font> iCodecID,
00124                               <a class="code" href="classIMetadata.html">IMetadata</a>* pMetadata, <font class="keywordtype">bool</font> bVerified);
00125     ~CSimpleMediaContentRecord();
00126 
00127     <font class="comment">// IContentRecord functions</font>
00128     <font class="keywordtype">int</font> GetID()<font class="keyword"> const</font>
00129 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_iID; }
00130     <font class="keyword">const</font> <font class="keywordtype">char</font>* GetURL()<font class="keyword"> const</font>
00131 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_szURL; }
00132     <font class="keywordtype">int</font> GetDataSourceID()<font class="keyword"> const</font>
00133 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_iDataSourceID; }
00134     <font class="keywordtype">bool</font> IsVerified()<font class="keyword"> const</font>
00135 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_bVerified; }
00136     <font class="keywordtype">void</font> SetVerified(<font class="keywordtype">bool</font> bVerified)<font class="keyword"></font>
00137 <font class="keyword">        </font>{ m_bVerified = bVerified; }
00138     ContentRecordStatus GetStatus()<font class="keyword"> const</font>
00139 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_eStatus; }
00140     <font class="keywordtype">void</font> SetStatus(ContentRecordStatus status)<font class="keyword"></font>
00141 <font class="keyword">        </font>{ m_eStatus = status; }
00142 
00143     <font class="comment">// IMediaContentRecord functions</font>
00144     <font class="keywordtype">int</font> GetCodecID()<font class="keyword"> const</font>
00145 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_iCodecID; }
00146     <font class="keyword">const</font> TCHAR* GetTitle() <font class="keyword">const</font>;
00147     <font class="keyword">const</font> TCHAR* GetAlbum() <font class="keyword">const</font>;
00148     <font class="keyword">const</font> TCHAR* GetGenre() <font class="keyword">const</font>;
00149     <font class="keyword">const</font> TCHAR* GetArtist() <font class="keyword">const</font>;
00150 
00151     <font class="keywordtype">void</font> SetDataSourceID(<font class="keywordtype">int</font> iDataSourceID);
00152     <font class="keywordtype">void</font> SetCodecID(<font class="keywordtype">int</font> iCodecID);
00153     <font class="keywordtype">void</font> SetTitle(<font class="keyword">const</font> TCHAR* szTitle);
00154     <font class="keywordtype">void</font> SetAlbum(<font class="keyword">const</font> TCHAR* szAlbum);
00155     <font class="keywordtype">void</font> SetGenre(<font class="keyword">const</font> TCHAR* szGenre);
00156     <font class="keywordtype">void</font> SetArtist(<font class="keyword">const</font> TCHAR* szArtist);
00157 
00158     <font class="comment">// IMetadata functions</font>
00159     <a class="code" href="classIMetadata.html">IMetadata</a>* Copy()<font class="keyword"> const</font>
00160 <font class="keyword">        </font>{
00161             <font class="keywordflow">return</font> m_pMetadata ? m_pMetadata-&gt;Copy() : 0;
00162         }
00163     <font class="keywordtype">bool</font> UsesAttribute(<font class="keywordtype">int</font> iAttributeID)<font class="keyword"> const</font>
00164 <font class="keyword">        </font>{
00165             <font class="keywordflow">return</font> m_pMetadata ? m_pMetadata-&gt;UsesAttribute(iAttributeID) : METADATA_NOT_USED;
00166         }
00167     ERESULT SetAttribute(<font class="keywordtype">int</font> iAttributeID, <font class="keywordtype">void</font>* pAttributeValue)<font class="keyword"></font>
00168 <font class="keyword">        </font>{
00169             <font class="keywordflow">return</font> m_pMetadata ? m_pMetadata-&gt;SetAttribute(iAttributeID, pAttributeValue) : METADATA_NOT_USED;
00170         }
00171     ERESULT UnsetAttribute(<font class="keywordtype">int</font> iAttributeID)<font class="keyword"></font>
00172 <font class="keyword">        </font>{
00173             <font class="keywordflow">return</font> m_pMetadata ? m_pMetadata-&gt;UnsetAttribute(iAttributeID) : METADATA_NOT_USED;
00174         }
00175     ERESULT GetAttribute(<font class="keywordtype">int</font> iAttributeID, <font class="keywordtype">void</font>** ppAttributeValue)<font class="keyword"> const</font>
00176 <font class="keyword">        </font>{
00177             <font class="keywordflow">return</font> m_pMetadata ? m_pMetadata-&gt;GetAttribute(iAttributeID, ppAttributeValue) : METADATA_NOT_USED;
00178         }
00179     <font class="keywordtype">void</font> MergeAttributes(<font class="keyword">const</font> <a class="code" href="classIMetadata.html">IMetadata</a>* pMetadata, <font class="keywordtype">bool</font> bOverwrite = <font class="keyword">false</font>)<font class="keyword"></font>
00180 <font class="keyword">        </font>{
00181             <font class="keywordflow">if</font> (m_pMetadata)
00182                 m_pMetadata-&gt;MergeAttributes(pMetadata, bOverwrite);
00183         }
00184     <font class="keywordtype">void</font> ClearAttributes()<font class="keyword"></font>
00185 <font class="keyword">        </font>{
00186             <font class="keywordflow">if</font> (m_pMetadata)
00187                 m_pMetadata-&gt;ClearAttributes();
00188         }
00189 
00190 
00191   <font class="keyword">protected</font>:
00192 
00193     <font class="keywordtype">int</font>         m_iID;  <font class="comment">// Unique content record ID</font>
00194     <font class="keywordtype">char</font>*       m_szURL;
00195     <font class="keywordtype">int</font>         m_iDataSourceID;
00196     <font class="keywordtype">int</font>         m_iCodecID;
00197     <a class="code" href="classIMetadata.html">IMetadata</a>*  m_pMetadata;
00198     <font class="keywordtype">bool</font>        m_bVerified;
00199     ContentRecordStatus m_eStatus;
00200 };
00201 
00203 <font class="comment">//      CSimplePlaylistRecord</font>
00205 <font class="comment"></font>
<a name="l00208"></a><a class="code" href="classCSimplePlaylistRecord.html">00208</a> <font class="comment">class CSimplePlaylistRecord : public IPlaylistContentRecord</font>
00209 {
00210   <font class="keyword">public</font>:
00211 
00212     CSimplePlaylistRecord(<font class="keywordtype">int</font> iID, <font class="keywordtype">char</font>* szURL, <font class="keywordtype">int</font> iDataSourceID, <font class="keywordtype">int</font> iPlaylistFormatID, <font class="keywordtype">bool</font> bVerified);
00213     ~CSimplePlaylistRecord();
00214 
00215     <font class="comment">// IContentRecord functions</font>
00216     <font class="keywordtype">int</font> GetID()<font class="keyword"> const</font>
00217 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_iID; }
00218     <font class="keyword">const</font> <font class="keywordtype">char</font>* GetURL()<font class="keyword"> const</font>
00219 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_szURL; }
00220     <font class="keywordtype">void</font> SetDataSourceID(<font class="keywordtype">int</font> iDataSourceID)<font class="keyword"></font>
00221 <font class="keyword">        </font>{ m_iDataSourceID = iDataSourceID; }
00222     <font class="keywordtype">int</font> GetDataSourceID()<font class="keyword"> const</font>
00223 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_iDataSourceID; }
00224     <font class="keywordtype">bool</font> IsVerified()<font class="keyword"> const</font>
00225 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_bVerified; }
00226     <font class="keywordtype">void</font> SetVerified(<font class="keywordtype">bool</font> bVerified)<font class="keyword"></font>
00227 <font class="keyword">        </font>{ m_bVerified = bVerified; }
00228     ContentRecordStatus GetStatus()<font class="keyword"> const</font>
00229 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_eStatus; }
00230     <font class="keywordtype">void</font> SetStatus(ContentRecordStatus status)<font class="keyword"></font>
00231 <font class="keyword">        </font>{ m_eStatus = status; }
00232 
00233     <font class="comment">// IPlaylistContentRecord functions</font>
00234     <font class="keywordtype">void</font> SetPlaylistFormatID(<font class="keywordtype">int</font> iPlaylistFormatID)<font class="keyword"></font>
00235 <font class="keyword">        </font>{ m_iPlaylistFormatID = iPlaylistFormatID; }
00236     <font class="keywordtype">int</font> GetPlaylistFormatID()<font class="keyword"> const</font>
00237 <font class="keyword">        </font>{ <font class="keywordflow">return</font> m_iPlaylistFormatID; }
00238 
00239   <font class="keyword">private</font>:
00240 
00241     <font class="keywordtype">int</font>         m_iID;  <font class="comment">// Unique content record ID</font>
00242     <font class="keywordtype">char</font>*       m_szURL;
00243     <font class="keywordtype">int</font>         m_iDataSourceID;
00244     <font class="keywordtype">int</font>         m_iPlaylistFormatID;
00245     <font class="keywordtype">bool</font>        m_bVerified;
00246     ContentRecordStatus m_eStatus;
00247 };
00248 
00250 
00251 <font class="preprocessor">#endif  // SIMPLECONTENTMANAGER_H_</font>
</font></pre></div>
	<hr><br><table width="100%" >
<tr><td align="left" width="33%"><a href="../doxy/SerialUserInterface_8h-source.html" title='SerialUserInterface.h'><img src='../images/previous.gif' width=78 height=10 border='0'></a></td><td align="center" width="33%">
<SCRIPT LANGUAGE="JavaScript">
   if (parent.frames.length>1){
       document.write('<A HREF="JavaScript:SwitchView(0);"><img src="../images/pagevw.gif" width=49 height=10 border="0"></A>');
   }else{
       document.write('<A HREF="JavaScript:SwitchView(1);"><img src="../images/normalvw.gif" width=60 height=8 border="0"></A>');
   }
</SCRIPT>
</td><td align="right" width="33%">
<a href="../doxy/SimpleGUIUserInterface_8h-source.html" title='SimpleGUIUserInterface.h'><img src='../images/next.gif' width=60 height=10 border='0'></a></td></tr>
</table><p class="Legal">
<a href="JavaScript:ShowCopyright();">Copyright &#169; 1998 - 2001</a> Interactive Objects<SUP><FONT SIZE="-3">TM</FONT></SUP>. All rights reserved.
<br>

 Last Modified on Oct 24, 2001 3:59 pm
</p>
</body>

</html>
