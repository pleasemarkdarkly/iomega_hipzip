<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>MediaPlayer.h Source File</title>

<SCRIPT LANGUAGE="JavaScript" SRC="../io.js"></SCRIPT>
<link rel="STYLESHEET" type="text/css" href="../iObjectsStyle.css">
</head>

<body lang=EN-US link=blue vlink=purple>
<table width="100%" >
<tr><td align="left" width="33%"><a href="../doxy/LineInputStream_8h-source.html" title='LineInputStream.h'><img src='../images/previous.gif' width=78 height=10 border='0'></a></td><td align="center" width="33%">
<SCRIPT LANGUAGE="JavaScript">
   if (parent.frames.length>1){
       document.write('<A HREF="JavaScript:SwitchView(0);"><img src="../images/pagevw.gif" width=49 height=10 border="0"></A>');
   }else{
       document.write('<A HREF="JavaScript:SwitchView(1);"><img src="../images/normalvw.gif" width=60 height=8 border="0"></A>');
   }
</SCRIPT>
</td><td align="right" width="33%">
<a href="../doxy/MessageQueue_8h-source.html" title='MessageQueue.h'><img src='../images/next.gif' width=60 height=10 border='0'></a></td></tr>
</table><!-- Generated by Doxygen 1.2.9.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>MediaPlayer.h</h1><div class="fragment"><pre>00001 <font class="comment">//</font>
00002 <font class="comment">// MediaPlayer.h</font>
00003 <font class="comment">//</font>
00004 <font class="comment">// Copyright (c) 1998 - 2001 Interactive Objects (TM). All rights reserved</font>
00005 <font class="comment">//</font>
00006 <font class="comment">// This file was distributed as part of the Dadio (TM) Software Development Kit</font>
00007 <font class="comment">//     under the Dadio (TM) Software Development Kit license. Please see the file</font>
00008 <font class="comment">//     "Dadio Software Development Kit license agreement.pdf" contained in the</font>
00009 <font class="comment">//     "Legal" folder on the Dadio Distribution CD.</font>
00010 <font class="comment">//</font>
00011 
00019 
00022 
00023 <font class="preprocessor">#ifndef MEDIAPLAYER_H_</font>
00024 <font class="preprocessor"></font><font class="preprocessor">#define MEDIAPLAYER_H_</font>
00025 <font class="preprocessor"></font>
00026 <font class="preprocessor">#include &lt;cyg/kernel/kapi.h&gt;</font>                <font class="comment">// for cyg_thread, cyg_handle_t</font>
00027 <font class="preprocessor">#include &lt;util/eresult/eresult.h&gt;</font>           <font class="comment">// for ERESULT</font>
00028 
00029 <font class="comment">//</font>
00031 <font class="comment">//</font>
<a name="l00032"></a><a class="code" href="group__MediaPlayer.html#a6">00032</a> <font class="preprocessor">#define MEDIAPLAYER_ERROR_ZONE 0x0c</font>
00033 <font class="preprocessor"></font>
00034 <font class="preprocessor">#define MAKE_MPRESULT(x,y) MAKE_ERESULT(x,MEDIAPLAYER_ERROR_ZONE,y)</font>
00035 <font class="preprocessor"></font>
<a name="l00037"></a><a class="code" href="group__MediaPlayer.html#a0">00037</a> <font class="keyword">const</font> ERESULT MP_NO_ERROR       = MAKE_MPRESULT( SEVERITY_SUCCESS, 0x0000 );
<a name="l00039"></a><a class="code" href="group__MediaPlayer.html#a1">00039</a> <font class="keyword">const</font> ERESULT MP_ERROR          = MAKE_MPRESULT( SEVERITY_FAILED,  0x0001 );
<a name="l00042"></a><a class="code" href="group__MediaPlayer.html#a2">00042</a> <font class="keyword">const</font> ERESULT MP_NOT_CONFIGURED = MAKE_MPRESULT( SEVERITY_FAILED,  0x0002 );
00043 
00044 <font class="comment">//</font>
00045 <font class="comment">// fdecl classes we use</font>
00046 <font class="comment">//</font>
00047 
00048 <font class="keyword">class </font>CEventQueue;
00049 <font class="keyword">class </font>CMediaPlayerImp;
00050 <font class="keyword">class </font><a class="code" href="classIMetadata.html">IMetadata</a>;
00051 <font class="keyword">class </font><a class="code" href="classIPlaylistEntry.html">IPlaylistEntry</a>;
00052 
00053 <font class="comment">//</font>
00054 <font class="comment">// FNCreateMetadata()</font>
00057 <font class="comment">//</font>
<a name="l00058"></a><a class="code" href="group__MediaPlayer.html#a3">00058</a> <font class="keyword">typedef</font> <a class="code" href="classIMetadata.html">IMetadata</a>* <a class="code" href="group__MediaPlayer.html#a3">FNCreateMetadata</a>();
00059 
00060 <font class="keyword">typedef</font> <font class="keyword">struct </font>StreamNode_s StreamNode_t;
00061 
00062 <font class="comment">//</font>
00063 <font class="comment">// playstream_settings_t</font>
00068 <font class="comment">//</font>
<a name="l00069"></a><a class="code" href="structplaystream__settings__s.html">00069</a> <font class="keyword">typedef</font> <font class="keyword">struct </font><a class="code" href="structplaystream__settings__s.html">playstream_settings_s</a>
00070 {
00071     <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> Output;
00072     <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font>* FilterList;
00073 } playstream_settings_t;
00074 
00075 
00076 <font class="comment">//</font>
00077 <font class="comment">// CMediaPlayer singleton</font>
00081 <font class="comment">//</font>
<a name="l00082"></a><a class="code" href="classCMediaPlayer.html">00082</a> <font class="keyword">class </font><a class="code" href="classCMediaPlayer.html">CMediaPlayer</a> 
00083 {
00084 <font class="keyword">public</font>:
00086     <font class="keyword">static</font> <a class="code" href="classCMediaPlayer.html">CMediaPlayer</a>* <a class="code" href="classCMediaPlayer.html#d0">GetInstance</a>();
00087 
<a name="l00089"></a><a class="code" href="classCMediaPlayer.html#s4">00089</a>     <font class="keyword">enum</font> PlayState 
00090     {
00091         PLAYING=0,
00092         PAUSED,
00093         STOPPED,
00094         NOT_CONFIGURED,
00095     };
00096 
00099     ERESULT <a class="code" href="classCMediaPlayer.html#a0">SetPlaystream</a>( <font class="keyword">const</font> playstream_settings_t* pSettings );
00100 
00101     <font class="comment">// SetCreateMetadataFunction</font>
00106 <font class="comment">    void SetCreateMetadataFunction(FNCreateMetadata* pfnCreateMetadata);</font>
00107     
00108     <font class="comment">// SetSong</font>
00111 <font class="comment">    ERESULT SetSong( IPlaylistEntry* pNewSong, bool bBufferedOpen = false );</font>
00112 
00113     <font class="comment">// Deconfigure</font>
00116 <font class="comment">    void Deconfigure();</font>
00117     
00118     <font class="comment">// Play tree control</font>
00119     <font class="comment">//  After SetSong has been called, you can manually alter the tree using</font>
00120     <font class="comment">//  the below routines. GetRoot() effectively returns the codec, since the</font>
00121     <font class="comment">//  tree is formed below that.</font>
00123 <font class="comment">    StreamNode_t* GetRoot() const;</font>
00125 <font class="comment">    StreamNode_t* AddNode( StreamNode_t* pRoot, unsigned int ChildID );</font>
00127 <font class="comment">    ERESULT RemoveNode( unsigned int NodeID );</font>
00129 <font class="comment">    ERESULT RemoveNode( StreamNode_t* pNode  );</font>
00130     
00131     <font class="comment">// Play control functions</font>
00133 <font class="comment">    ERESULT Play();</font>
00135 <font class="comment">    ERESULT Pause();</font>
00137 <font class="comment">    ERESULT Stop();</font>
00139 <font class="comment">    ERESULT Seek( unsigned long secSeek );</font>
00140 
00142     PlayState <a class="code" href="classCMediaPlayer.html#a12">GetPlayState</a>() <font class="keyword">const</font>;
00143 
00144     <font class="comment">// Track length, current track time</font>
00145     <font class="comment">// The track length call is provided for consistency - the call itself</font>
00146     <font class="comment">// is proxied through the current playlist entry</font>
00148 <font class="comment">    unsigned long GetTrackTime() const;</font>
00150 <font class="comment">    unsigned long GetTrackLength() const;</font>
00151     
00152 <font class="keyword">private</font>:
00153 
00154     CMediaPlayer();
00155     ~CMediaPlayer();
00156 
00157     CMediaPlayerImp*    m_pImp;
00158 };
00159 
00161 
00162 <font class="preprocessor">#endif  // MEDIAPLAYER_H_</font>
</font></pre></div>
	<hr><br><table width="100%" >
<tr><td align="left" width="33%"><a href="../doxy/LineInputStream_8h-source.html" title='LineInputStream.h'><img src='../images/previous.gif' width=78 height=10 border='0'></a></td><td align="center" width="33%">
<SCRIPT LANGUAGE="JavaScript">
   if (parent.frames.length>1){
       document.write('<A HREF="JavaScript:SwitchView(0);"><img src="../images/pagevw.gif" width=49 height=10 border="0"></A>');
   }else{
       document.write('<A HREF="JavaScript:SwitchView(1);"><img src="../images/normalvw.gif" width=60 height=8 border="0"></A>');
   }
</SCRIPT>
</td><td align="right" width="33%">
<a href="../doxy/MessageQueue_8h-source.html" title='MessageQueue.h'><img src='../images/next.gif' width=60 height=10 border='0'></a></td></tr>
</table><p class="Legal">
<a href="JavaScript:ShowCopyright();">Copyright &#169; 1998 - 2001</a> Interactive Objects<SUP><FONT SIZE="-3">TM</FONT></SUP>. All rights reserved.
<br>

 Last Modified on Oct 24, 2001 3:59 pm
</p>
</body>

</html>
